|Requirement ID    |Title                                             |Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|------|--------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|EVK-60|Beacon Proxy                                      |The [beacon proxy](https://docs.openzeppelin.com/contracts/4.x/api/proxy#beacon) is a proxy for which the beacon contract is the `msg.sender` address which constructs it. The constructor allows to pass up to 128 bytes of `trailingData` that must be appended to any `delegatecall` performed by the proxy.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|EVK-11|DToken                                            |DToken is a contract deployed on EVault contract initialization. It implements a subset of `ERC20` view functions that are related to the vault debt.<br /><br />Functions implemented:<br /><br />`name` - returns the name of the associated `EVault` preceded with "Debt token of "<br /><br />`symbol` - returns the symbol of the associated `EVault` preceded with "d"<br /><br />`decimals` - returns the decimals of the associated `EVault` <br /><br />`totalSupply` - returns the total borrows of the associated `EVault`<br /><br />`balanceOf` - returns individual debt of the user in the associated `EVault`<br /><br />`allowance` - always returns 0<br /><br />`asset` - returns the asset of the associated `EVault`<br /><br />`emitTransfer` - emits the `Transfer` event. Callable only by the associated `EVault`<br /><br />**DToken contract blocks calls to all the other public ERC20 functions.**<br /><br />[https://docs.euler.finance/euler-vault-kit-white-paper/#dtoken](https://docs.euler.finance/euler-vault-kit-white-paper/#dtoken)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|EVK-9 |Dispatch                                          |Implements helper functions and modifiers used for calls dispatching.<br /><br />For code organisation purposes, and also to comfortably stay below code size limits at full optimisation levels, the component implementation contracts are organised into modules. The primary entry point contract `EVault` serves as a dispatcher that determines which module should be invoked. `EVault` inherits from *all* the modules, although functions that are overridden by a dispatching routine are considered dead code by the Solidity compiler and are not compiled in. In addition to being included in the `EVault` dispatcher contract, modules are also deployed separately so that they can be invoked with `delegatecall`.<br /><br />This pattern allows functions to be handled in the following ways:<br /><br />* Implemented directly: No external module is invoked. This is the most gas efficient, and is especially important for view methods that are called frequently by other contracts. <br />* `use(MODULE_XXX)`: The indicated module is invoked with `delegatecall` <br />* `useView(MODULE_XXX)`: The implementation contract uses `staticcall` to call `viewDelegate()` on itself, which then does a `delegatecall` to the indicated module.<br /><br />In order to implement a function directly, it is sufficient to have no mention of it in the dispatcher. However, for documentation and consistency, the code overrides with a function that calls the corresponding module's function with `super()`. This wrapper function is inlined away by the compiler.<br /><br />To delegate a function to a module, the code overwrites the function signature in the dispatcher with either the `use` or `useView` modifier and an empty code block as implementation. The empty code block removes the function, while the modifier causes the router to `delegatecall` into the module.<br /><br />Modules are static, meaning they cannot be upgraded. Code upgrades require deploying a new implementation which refers to the new module, and then updating the implementation storage slot in the factory. Only upgradeable instances will be affected.<br /><br />[**`delegatecall` into view functions**​](https://docs.euler.finance/euler-vault-kit-white-paper/#delegatecall-into-view-functions)<br /><br />Solidity doesn't allow for view functions to `delegatecall`. To be able to remove view functions from the dispatcher codebase and `delegatecall` them instead into the modules, the dispatching mechanism uses the `useView` modifier. This modifier makes the view function `staticcall` back into the dispatcher to a `viewDelegate` function which is `non-payable`. This `viewDelegate` function can now `delegatecall` into the implementation of the view function in the module.<br /><br />The issue, background and a proposed patch to the Solidity compiler described in [this solc issue](https://github.com/ethereum/solidity/issues/14577).<br /><br />[**Gas vs Code-Size Tradeoff**​](https://docs.euler.finance/euler-vault-kit-white-paper/#gas-vs-code-size-tradeoff)<br /><br />The top level module dispatch system in `EVault` serves as a dispatcher where you can mix and match where the code should physically be located - in the contract itself, or `delegatecall`ed to one of the modules. The routing of specific functions to specific modules is hardcoded into the dispatcher.<br /><br />In order to decide if a function should be implemented directly or delegated to a module, its gas-importance and code size should be evaluated. Functions that are frequently called on-chain will benefit from being implemented directly to avoid the `delegatecall` overhead. This is especially important for `view` functions because of the `viewDelegate()` overhead. On the other hand, large functions should be delegated to ensure that the `EVault` dispatcher can fit within the 24 Kb code-size limit,<br /><br />[**`callThroughEVC`**​](https://docs.euler.finance/euler-vault-kit-white-paper/#callthroughevc)<br /><br />The `EVault` dispatcher makes use of another modifier called `callThroughEVC`. This modifier has two execution flows. Either it executes the function normally (dispatched or directly) if the call comes from the EVC, or calls into the EVC's `call()` method with the existing calldata prepended with the address of the dispatcher, `msg.sender`, and `msg.value`, which then calls back into the Vault for normal execution.<br /><br />[https://docs.euler.finance/euler-vault-kit-white-paper/#static-modules](https://docs.euler.finance/euler-vault-kit-white-paper/#static-modules)|
|EVK-35|Dispatch `callThroughEVC`                         |`callThroughEVC` is a modifier which: <br /><br />* if `msg.sender` is the EVC, executes the body of the function * if `msg.sender` is not the EVC, invokes the EVC `call` function with the following arguments: <br /><br />* `targetContract` must be equal to `address(this)` <br /><br />* `onBehalfOfAccount` must be equal to `msg.sender` <br /><br />* `value` must be equal to the `msg.value` <br /><br />* `data` must be equal to the `msg.data`<br /><br />`callThroughEVC` reverts if the call to the EVC is unsuccessful.<br /><br />The expectation of the call to the EVC is that the EVC will call back into this contract and execute the function, on which `callThroughEVC` modifier was used, within the EVC checks deferred context.<br /><br />[https://evc.wtf/docs/concepts/internals/call](https://evc.wtf/docs/concepts/internals/call)<br /><br />[https://evc.wtf/docs/concepts/internals/checks-deferrable-call](https://evc.wtf/docs/concepts/internals/checks-deferrable-call)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
|EVK-34|Dispatch `useView`                                |`useView` is a modifier which `staticcall`s into `function viewDelegate()` on this contract (`address(this)`). The calldata is as follows:<br /><br />```bash viewDelegate.selector + module address + (msg.data with the proxy metadata stripped at the end) + caller address ```<br /><br />`useView` reverts if `staticcall` is unsuccessful.<br /><br />`viewDelegate` is a function which `delegatecall`s into the `module` address provided by `useView` with as per current `msg.data`.<br /><br />`viewDelegate` reverts if not self-called OR if `delegatecall` is unsuccessful.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|EVK-33|Dispatch `use`                                    |`use` is a modifier which `delegatecall`s into provided `module` address as per current `msg.data`. `use` reverts if `delegatecall` is unsuccessful.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|EVK-10|EVault                                            |EVault is the top level module dispatch system serving as a dispatcher where you can mix and match where the code should physically be located - in the contract itself, or should it be `delegatecall`ed to one of the modules. The routing of specific functions to specific modules is hardcoded into the dispatcher.<br /><br />EVault contract consists of the following modules and contracts:<br /><br />1. `Dispatch` - implements helper functions and modifiers used for calls dispatching, as described below <br />2. `Initialize` - implements `initialize` function callable by the proxy <br />3. `Governance` - implements the functions allowing the governor to configure the vault <br />4. `Token` - implements the `ERC20` functionality of the vault <br />5. `Vault` - implements the `ERC4626` functionality of the vault <br />6. `Borrowing` - implements the borrowing functionality of the vault <br />7. `Risk Manager `- implements the account and vault status check functions <br />8. `Liquidation` - implements the liquidation logic <br />9. `Balance Forwarder` - implements the functions allowing to enable/disable balance forwarding feature<br /><br />For more information regarding the dispatching system, refer to the `Dispatch` contract specification (EVK-9).<br /><br />For more context on the EVK, refer to the EVK white paper and the EVC vault implementation considerations and guide:<br /><br />[https://docs.euler.finance/euler-vault-kit-white-paper/](https://docs.euler.finance/euler-vault-kit-white-paper/)<br /><br />[https://evc.wtf/docs/contracts/vault-implementation-considerations](https://evc.wtf/docs/contracts/vault-implementation-considerations)<br /><br />[https://evc.wtf/docs/contracts/vault-implementation-guide](https://evc.wtf/docs/contracts/vault-implementation-guide)<br /><br />[https://evc.wtf/docs/concepts/internals/security-considerations](https://evc.wtf/docs/concepts/internals/security-considerations)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|EVK-12|Generic Factory                                   |The factory is a standalone smart contract allowing to deploy two types of proxies: [beacon proxy](https://docs.openzeppelin.com/contracts/4.x/api/proxy#beacon) and [meta proxy](https://eips.ethereum.org/EIPS/eip-3448)-inspired proxy, and hook them up with the current implementation contract which is stored in the factory storage.<br /><br />The proxies are deployed using `createProxy` function.<br /><br />If `desiredImplementation` parameter is non-zero address, the factory checks if the current implementation address is equal to the desired one and proceeds if so. If the `desiredImplementation` does not match the current implementation address, the factory reverts.<br /><br />If `desiredImplementation` parameter is address zero, the factory accepts any implementation address that is currently stored.<br /><br />If `upgradeable` parameter is `true`, the factory deploys a beacon proxy contract and sets itself as a beacon contract. Whenever a call is made to the beacon proxy, the proxy will call the factory in order to fetch the current implementation contract address.<br /><br />If `upgradeable` parameter is `false`, the factory deploys a meta proxy contract with the current implementation address as the target contract.<br /><br />`createProxy` accepts `trailingData` parameter which is forwarded to the proxies constructors. <br /><br />Upon successful construction of a proxy, the factory must call `initialize` function on it.<br /><br />The factory has an upgrade admin address that can change the address of the implementation contract, but this will only affect contracts that were created as `upgradeable`. This allows contract creators to choose whether they want the factory admin to be able to upgrade their vaults, or if instead they should be immutable.<br /><br />The factory maintains a registry of deployed proxy contracts that allows to verify that a contract was created by a trusted factory.<br /><br />[https://docs.euler.finance/euler-vault-kit-white-paper/#creation](https://docs.euler.finance/euler-vault-kit-white-paper/#creation)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|EVK-14|Interest Rate Models                              |Interest Rate Models are contracts that determine the interest rate that should be charged given the state of a vault. The Interest Rate Model contract must implement two functions:<br /><br />* `computeInterestRate` - function that accepts the bare minimum parameters necessary to compute utilisation and returns the interest rate in terms of "second percent yield" (SPY) values which are per-second compounded interest rates scaled by `1e27`. This function can update the state of the contract <br />* `computeInterestRateView` - view function that at all times must return the same result as its state-modifying equivalent `computeInterestRate`<br /><br />[https://docs.euler.finance/euler-vault-kit-white-paper/#interest-rate-models](https://docs.euler.finance/euler-vault-kit-white-paper/#interest-rate-models)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|EVK-61|Meta Proxy-inspired Proxy                                        |The [meta proxy](https://eips.ethereum.org/EIPS/eip-3448)-inspired proxy is a proxy which uses `targetContract` passed to the `deployMetaProxy` function as the implementation address. The `deployMetaProxy` function allows to pass `metadata` that must be appended to any `delegatecall` performed by the proxy.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|EVK-62|Miscellaneous                                     |This section provides miscellaneous features specification.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|EVK-67|Miscellaneous Account Status Checks               |Any function decreasing the balance of the account or increasing the liability of the account must schedule the account status check for that account. The only exception is the `liquidate` function that forgives the account status check for the `violator`.<br /><br />If the status of any of the accounts for which the account status check has been scheduled is invalid, the call frame in which the checks are performed must revert.<br /><br />[https://evc.wtf/docs/concepts/internals/account-status-checks](https://evc.wtf/docs/concepts/internals/account-status-checks)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
|EVK-64|Miscellaneous EVC Authentication                  |The EVC is responsible for *authentication*, and vaults are responsible for *authorisation*. For example, if a user attempts to redeem a certain amount, the EVC makes sure the request actually came from the user, and the vault makes sure the user actually has this amount.<br /><br />It means that all the user-facing state-modifying functions of the vault must rely on the EVC execution context's value of `onBehalfOfAccount` when the vault is called through the EVC.<br /><br />[https://docs.euler.finance/euler-vault-kit-white-paper/#introduction](https://docs.euler.finance/euler-vault-kit-white-paper/#introduction)<br /><br />[https://evc.wtf/docs/concepts/internals/authorization](https://evc.wtf/docs/concepts/internals/authorization)<br /><br />[https://evc.wtf/docs/concepts/internals/security-considerations#authentication-by-vaults](https://evc.wtf/docs/concepts/internals/security-considerations#authentication-by-vaults)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|EVK-71|Miscellaneous Hooked Operations                   |Some of the operation types of the vault may be configured to call the hook target when being performed thanks to which the vault supports a limited hooking functionality. When operation is performed, the vault must check if the corresponding operation is set in hooked ops. <br /><br />If the corresponding operation is set in the hooked ops AND the hook target configured is a compatible smart contract, the hook target is `call`ed using the same `msg.data` as was provided to the vault, along with the EVC-authenticated caller appended as trailing calldata. If the call is successful, the execution of the operation must carry on as usual. If the call is unsuccessful, the operation must revert with the hook target error bubbled up.<br /><br />If the corresponding operation is set in the hooked ops AND the hook target configured is address zero, then the vault operation fails unconditionally as it is considered disabled.<br /><br />In addition to user-invokable functions, the operation than can also be hooked is `checkVaultStatus`. The hook target will be invoked when the EVC calls `checkVaultStatus` on the vault, which is typically at the end of any batch that has interacted with the vault. This hook can be used to reject operations that violate "post-condition" properties of the vault.<br /><br />[https://docs.euler.finance/euler-vault-kit-white-paper/#hooks](https://docs.euler.finance/euler-vault-kit-white-paper/#hooks)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|EVK-65|Miscellaneous Interest and Fees Accrual           |Any state-modifying operation that affects the vault balances and liabilities, must operate on the up to date vault state. In order to keep the vault state up to date, when loading the cache, the vault state is updated considering the following:<br /><br />* the interest is accrued since the last update time using the current interest rate <br />* the fees are cut from the accrued interest as per the interest fee parameter <br />* new vault shares are minted to grant ownership over the fees to the virtual temporary fee holder account<br /><br />[https://docs.euler.finance/euler-vault-kit-white-paper/#interest](https://docs.euler.finance/euler-vault-kit-white-paper/#interest)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|EVK-69|Miscellaneous LTV Ramping                         |Vaults must implement LTV ramping allowing the governor to change the LTV of the collateral without putting outstanding loans into immediate violation.<br /><br />When using the `setLTV` function, the governor can specify the target LTV and the ramp duration. When an account wants to take on a new liability or modify its existing position, the account health must be evaluated using the target LTV value configured. For the purpose of liquidations however, the account health must be evaluated by calculating the current LTV, assuming it changes linearly from the original LTV stored to the target LTV configured in the configured ramp duration time.<br /><br />[https://docs.euler.finance/euler-vault-kit-white-paper/#ltv-ramping](https://docs.euler.finance/euler-vault-kit-white-paper/#ltv-ramping)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|EVK-74|Miscellaneous Pull Assets                         |Whenever the underlying assets are being pulled into the vault, the operation must try to transfer the assets from the specified account to the vault directly. If the direct transfer fails and `permit2` contract address is configured, the operation must try to transfer the assets from the specified account to the vault using `permit2` contract.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|EVK-73|Miscellaneous Push Assets                         |Whenever the underlying assets are being pushed out of the vault, the operation must revert if:<br /><br />* the receiver address is `address(0)`, OR <br />* if asset receiver validation enabled AND the receiver address is a known virtual account                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
|EVK-63|Miscellaneous Re-entrancy                         |Each state-modifying function must be re-entrancy protected. <br /><br />Each static function that reads regions of the state that may be unsafe to access during an ongoing operation on the vault must be read-only re-entrancy protected.<br /><br />The installed hook target contract address can bypass the vault's read-only reentrancy protection. This means that hook functions can call view methods on the vault during their operation. However, hooks cannot perform state changing operations because of the normal reentrancy lock.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|EVK-68|Miscellaneous Vault Status Checks and Snapshots   |Any state-modifying function of the vault which loads the vault cache must schedule the vault status check. This is in order not only to potentially check whether the vault status is valid at the end of the call frame, but also to update the interest rate.<br /><br />Before the vault status check is scheduled, if the supply cap or the borrow cap can be exceeded (any of them is not defined as max possible value), a snapshot of the initial state of the vault must be created which includes:<br /><br />* the total amount of assets held by the vault <br />* the total amount of liabilities issued by the vault<br /><br />If the status of any of the vaults for which the vault status check has been scheduled is invalid, the call frame in which checks are performed must revert.<br /><br />[https://evc.wtf/docs/concepts/internals/vault-status-checks](https://evc.wtf/docs/concepts/internals/vault-status-checks)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|EVK-66|Miscellaneous Vault as Controller                 |The vault must be enabled as a controller for an account at all times the account has an outstanding liability. Whether the vault is enabled as a controller for the account, must be verified by the vault before it issues any loan or transfers liability to the account. The controller can only be disabled if the account fully repays the outstanding loan.<br /><br />[https://evc.wtf/docs/concepts/internals/controller](https://evc.wtf/docs/concepts/internals/controller)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|EVK-70|Miscellaneous `callThroughEVC`                    |Every function that schedules the account or vault status check must be called through the EVC using the `callThroughEVC` modifier.<br /><br />This modifier has two execution flows. Either it executes the function normally (dispatched or directly) if the call comes from the EVC, or calls into the EVC's `call` method with the existing calldata prepended with the address of the dispatcher, `msg.sender`, and `msg.value`, which then calls back into the vault for normal execution.<br /><br />The modifier ensures, that the body of the function is always executed from the EVC call. As a result, the account and vault status checks are always executed in the checks deferral frame, at the end of the call, outside of the vault's re-entrancy protections.<br /><br />The modifier is applied to all functions which schedule account or vault status checks.<br /><br />[https://evc.wtf/docs/concepts/internals/call](https://evc.wtf/docs/concepts/internals/call)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|EVK-8 |Module Balance Forwarder                          |Implements functions allowing to enable/disable balance forwarding feature.<br /><br />[https://docs.euler.finance/euler-vault-kit-white-paper/#balance-forwarding](https://docs.euler.finance/euler-vault-kit-white-paper/#balance-forwarding)<br /><br />[https://github.com/euler-xyz/reward-streams](https://github.com/euler-xyz/reward-streams)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|EVK-17|Module Balance Forwarder `disableBalanceForwarder`|If balance tracker specified, `disableBalanceForwarder` disables the balance forwarding to the balance tracker for the authenticated account. The balance tracker hook should be invoked with 0 as the balance of the account.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|EVK-16|Module Balance Forwarder `enableBalanceForwarder` |If balance tracker specified, `enableBalanceForwarder` enables the balance forwarding to the balance tracker for the authenticated account. The balance tracker hook should be invoked with current balance of the account.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|EVK-5 |Module Borrowing                                  |Extends the `ERC4626` vault by implementing the borrowing functionality.<br /><br />[https://eips.ethereum.org/EIPS/eip-4626](https://eips.ethereum.org/EIPS/eip-4626)<br /><br />[https://evc.wtf/docs/concepts/how-does-evc-work](https://evc.wtf/docs/concepts/how-does-evc-work)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|EVK-53|Module Borrowing `borrow`                         |If operation enabled, `borrow` issues exactly `amount` of underlying tokens as liability for the authenticated account and transfers the underlying tokens to the `receiver`.<br /><br />This operation must ensure that the authenticated account has enabled the vault as controller.<br /><br />If asset receiver validation enabled, this operation must protect user from sending assets to a virtual account.<br /><br />This operation is always called through the EVC.<br /><br />This operation schedules the account status check on the authenticated account address.<br /><br />This operation schedules the vault status check.<br /><br />This operation affects:<br /><br />* liability balance of the authenticated account <br />* total liability balance <br />* total balance of the underlying assets held by the vault<br /><br />[https://evc.wtf/docs/concepts/internals/sub-accounts](https://evc.wtf/docs/concepts/internals/sub-accounts)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|EVK-56|Module Borrowing `repayWithShares`                         |If operation enabled, `repayWithShares` decreases the liability balance of `receiver` by `amount` of underlying tokens and burns corresponding vault shares (rounding up) from the authenticated account.<br /><br />If balance forwarding enabled for the authenticated account, the balance tracker hook must be called with the new shares balance of the authenticated account.<br /><br />This operation is always called through the EVC.<br /><br />This operation schedules the account status check on the authenticated account address.<br /><br />This operation schedules the vault status check.<br /><br />This operation affects:<br /><br />* shares balance of the authenticated account <br />* total shares balance <br />* liability balance of the `receiver` account <br />* total liability balance                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|EVK-59|Module Borrowing `flashLoan`                      |If operation enabled, `flashLoan` transfers the `assets` amount of underlying token to the authenticated account and calls `onFlashLoan` callback on it with authenticated account-provided `data`.<br /><br />`flashLoan` must revert if at least `assets` amount of underlying token was not transferred back to the vault after the callback is executed.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|EVK-57|Module Borrowing `pullDebt`                       |If operation enabled, `pullDebt` transfers the `amount` of liability balance from `from` account to the authenticated account.<br /><br />This operation must ensure that the authenticated account has enabled the vault as controller.<br /><br />This operation is always called through the EVC.<br /><br />This operation schedules the account status check on the authenticated account address.<br /><br />This operation schedules the vault status check.<br /><br />This operation affects:<br /><br />* liability balance of the `from` account <br />* liability balance of the authenticated account                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|EVK-54|Module Borrowing `repay`                          |If operation enabled, `repay` removes exactly `amount` of underlying tokens as liability for the `receiver` and transfers the underlying tokens from the authenticated account.<br /><br />This operation is always called through the EVC.<br /><br />This operation schedules the vault status check.<br /><br />This operation affects:<br /><br />* liability balance of the authenticated account <br />* total liability balance <br />* total balance of the underlying assets held by the vault                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|EVK-58|Module Borrowing `touch`                          |If operation enabled, `touch` updates the vault state.<br /><br />This operation is always called through the EVC.<br /><br />This operation schedules the vault status check.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|EVK-2 |Module Governance                                 |Implements the functions allowing the governor to configure the vault.<br />The vault uses EVC authentication for the governor, which means that governor actions can be batched together and simulated. However, the vault does not accept advanced EVC authentication methods like sub-accounts, operators or `controlCollateral`.<br /><br />*Context:*<br /><br />*Immediately after creation, the factory will call* `initialize` *on the proxy, passing in the creator's address as a parameter. The vault will set its governor to the creator's address. This governor can invoke methods that modify the configuration of the vault.*<br /><br />*At this point, the creator should configure the vault as desired and then decide if the vault is to be governed or not.*<br /><br />* *If so, the creator retains the governor role or transfers it to another address.* <br />* *If not, then the ownership is revoked by setting the governor to* `address(0)`*. No more governance changes can happen on this vault and it is considered finalized.*<br /><br />*If limited governance is desired, the creator can transfer ownership to a smart contract that can only invoke a sub-set of governance methods, perhaps with only certain parameters, or under certain conditions.*<br /><br />*Using the same code-base and factories, the Euler Vault Kit allows construction of both managed and unmanaged lending products. Managed vaults are intended to be long-lived and are therefore suitable for passive deposits. If market conditions change, an active governor can reconfigure the vault to optimize or protect users. Alternatively, unmanaged vaults are configured statically, and the users themselves (or a higher-level contract) must actively monitor for risks/opportunities and shift their deposits and positions to new vaults as necessary.*<br /><br />[https://docs.euler.finance/euler-vault-kit-white-paper/#governed-vs-finalised](https://docs.euler.finance/euler-vault-kit-white-paper/#governed-vs-finalised)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
|EVK-25|Module Governance `clearLTV`                      |`clearLTV` allows the current governor to clear the LTV config for a given collateral keeping the storage slot initialized.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|EVK-18|Module Governance `convertFees`                   |If operation enabled, `convertFees` allows anyone to split accrued vault fees and transfer them to the governor-specified fee receiver and Protocol Config-specified fee receiver. The accrued vault fees are split proportionally as per Protocol Config-specified fee share that cannot exceed `MAX_PROTOCOL_FEE_SHARE`. Immediately after the fees are split, the amount of fees accrued by the vault must be set to 0.<br /><br />This operation affects: <br /><br />* shares balance of the governor-specified fee receiver (if it's configured)<br />* shares balance of the Protocol Config-specified fee receiver <br />* shares balance of the accumulated fees<br /><br />[https://docs.euler.finance/euler-vault-kit-white-paper/#fees](https://docs.euler.finance/euler-vault-kit-white-paper/#fees)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|EVK-28|Module Governance `setCaps`                       |`setCaps` allows the current governor to set a supply cap and a borrow cap as per the following specification:<br /><br />*Supply cap and borrow cap are 16-bit decimal floating point values:*<br /><br />*\* The least significant 6 bits are the exponent*<br /><br />*\* The most significant 10 bits are the mantissa, scaled by 100*<br /><br />*\* The special value of 0 means limit is not set*<br /><br />*\* This is so that uninitialised storage implies no limit*<br /><br />*\* For an actual cap value of 0, use a zero mantissa and non-zero exponent*<br /><br />When converted to assets, the supply cap cannot exceed `2 * MAX_SANE_AMOUNT` and the borrow cap cannot exceed `MAX_SANE_AMOUNT`.<br /><br />[https://docs.euler.finance/euler-vault-kit-white-paper/#supply-and-borrow-caps](https://docs.euler.finance/euler-vault-kit-white-paper/#supply-and-borrow-caps)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|EVK-72|Module Governance `setConfigFlags`                |`setConfigFlags` allows the vault governor to specify the additional configuration of the vault which refers to:<br /><br />* debt socialization on liquidation <br />* asset receiver validation whenever the assets are pushed out of the vault                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|EVK-23|Module Governance `setFeeReceiver`                |`setFeeReceiver` allows the current governor to set the new fee receiver.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|EVK-21|Module Governance `setGovernorAdmin`              |`setGovernorAdmin` allows the current governor to set the new governor.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|EVK-27|Module Governance `setHookConfig`                 |`setHookConfig` allows the vault governor to specify the hook target address and a hooked ops bitfield that specifies the operations to be affected by hooks. The hook target address must either be zero or must be a smart contract implementing the special `isHookTarget` function that returns the magic value which is the selector of this function.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|EVK-26|Module Governance `setIRM`                        |`setIRM` allows the current governor to set the new interest rate model. This function must update the vault state before modifying the interest rate model and only then update the interest rate.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|EVK-29|Module Governance `setInterestFee`                |`setInterestFee` allows the current governor to set the new interest fee within the specified range. If the governor wishes to set the interest fee outside the guaranteed range <`GUARANTEED_INTEREST_FEE_MIN`, `GUARANTEED_INTEREST_FEE_MAX`>, it might be allowed to do so upon consulting the Protocol Config contract.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|EVK-24|Module Governance `setLTV`                        |`setLTV` allows the current governor to set the new LTV config for the collateral by specifying the borrow and<br /><br />liquidation LTV (scaled by `CONFIG_SCALE`) and the ramp duration in seconds.<br /><br />`setLTV` must revert if:<br /><br />* the governor tries to set the LTV config for the vault itself (self-collateralization is prohibited) <br />* the governor tries to set the liquidation LTV to a value lower than the borrow LTV <br />* the governor tries to set the liquidation LTV with the ramp duration greater than 0 to a value higher than the current liquidation LTV (ramp up is prohibited; only jump up is allowed)<br /><br />If the LTV config storage slot hasn't been initialized before, the collateral is pushed to the LTV list that is meant to be consumed off-chain.<br /><br />[https://docs.euler.finance/euler-vault-kit-white-paper/#maximum-ltvs](https://docs.euler.finance/euler-vault-kit-white-paper/#maximum-ltvs)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|EVK-52|Module Governance `setLiquidationCoolOffTime`     |`setLiquidationCoolOffTime` allows the current governor to set the cool off time that must elapse from the last account status check of the violator in order for the liquidation to succeed.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|EVK-82|Module Governance `setMaxLiquidationDiscount`     |`setMaxLiquidationDiscount` allows the current governor to set the maximum liquidation discount factor that limits the liquidation bonus earned by the liquidator.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|EVK-1 |Module Initialize                                 |Implements the `initialize` function callable by the factory on proxy creation.<br /><br />[https://docs.euler.finance/euler-vault-kit-white-paper/#creation](https://docs.euler.finance/euler-vault-kit-white-paper/#creation)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|EVK-15|Module Initialize `initialize`                    |This function allows for the proxy contract storage initialization and is only callable once immediately after the vault creation. The factory will call `initialize` on the proxy, passing in the creator's address as a parameter. <br /><br />`initialize` verifies proxy metadata parameters, deploys associated `DToken`contract and initializes the storage appropriately. `proxyCreator` address parameter, received from the factory contract, is used to initialize the governor admin of the vault. This governor can later on invoke methods that modify the configuration of the vault. using the functions of the Module Governance. The symbol of the newly created vault is set to "e" proceded by the underlying asset symbol (or "UNKNOWN" in case the asset contract does not implement the `symbol` function) proceded by "-" and the sequence ID reserved using the Sequence Registry for a given underlying asset symbol descriptor. The name of the newly created vault is set to "EVK Vault " followed by the previously set vault symbol.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|EVK-7 |Module Liquidation                                |Implements the liquidation logic.<br /><br />*Context:*<br /><br />*An status is valid (account is considered healthy) if the sum of risk adjusted values of enabled and accepted collaterals is greater than the value of liability, or the liability amount itself must be exactly zero.*<br /><br />*Value of the liability is current liability amount priced by the configured price oracle in terms of unit of account. The value of the liability is context-dependent. In the liquidation context, the liability is valued using the mid-point quote returned by the oracle.*<br /><br />*Value of the collateral is current collateral balance amount priced by the configured price oracle in terms of unit of account. The value of the collateral is context-dependent. In the liquidation context, the collateral is valued using the mid-point quote returned by the oracle.*<br /><br />*The risk adjusted value of collateral for the purpose of liquidation is the current collateral balance priced using the oracle mid-point quote, multiplied by the current liquidation LTV factor, calculated using the initial liquidation LTV factor, the target liquidation LTV factor and ramp duration (assuming the LTV factor changes linearly from the initial LTV to the target LTV in ramp duration time).*<br /><br />*In order to incentivize the liquidator, the collateral shares received will be more valuable than the debt received. Or, put another way, the liquidator is buying the collateral at a discount and the profit generated by the liquidator is called liquidation bonus. The liquidation logic works as a reverse Dutch auction system which scales the liquidation discount proportionally as the health of the violator decreases up to the amount limited by the configured maximum liquidation discount factor.*<br /><br />[https://docs.euler.finance/euler-vault-kit-white-paper/#liquidation](https://docs.euler.finance/euler-vault-kit-white-paper/#liquidation)<br /><br />[https://docs.euler.finance/euler-vault-kit-white-paper/#price-oracles](https://docs.euler.finance/euler-vault-kit-white-paper/#price-oracles)<br /><br />[https://evc.wtf/docs/concepts/internals/control-collateral](https://evc.wtf/docs/concepts/internals/control-collateral)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|EVK-31|Module Liquidation `checkLiquidation`             |If `violator` account status invalid (`violator` unhealthy), `checkLiquidation` returns the maximum amount of the debt asset the `liquidator` is allowed to liquidate (`maxRepay`) in exchange for the returned maximum amount of `collateral` shares from `violator` (`maxYield`).<br /><br />If `violator` account status valid (`violator` healthy), `checkLiquidation` returns `maxRepay` and `maxYield` as 0.<br /><br />Unless `violator` account status valid, considering the liquidator bonus is positive and grows linearly as the health of the `violator` deteriorates, the value of `maxYield` is greater than the value of `maxRepay`.<br /><br />If needed, `checkLiquidation` must limit the `maxRepay` as per available amount of `collateral` to be seized from the `violator`.<br /><br />If needed, `checkLiquidation` must limit the `maxRepay` and the `maxYield` as per desired amount to be repaid (`desiredRepay`) parameter.<br /><br />To calculate the `maxRepay` and `maxYield` amounts, the mid-point quote of the configured price oracle is used.<br /><br />The liquidator bonus must never exceed the value calculated using the configured value of maximum liquidation discount factor.<br /><br />`checkLiquidation` must revert if:<br /><br />* `violator` is the same account as `liquidator` <br />* `collateral` is not accepted <br />* `collateral` is not enabled collateral for the `violator` <br />* liability vault is not enabled as the only controller of the `violator` <br />* the time elapsed from the last account status check of the `violator` is lesser than the configured liquidation cool off time <br />* `violator` account status check is deferred <br />* price oracle is not configured                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|EVK-32|Module Liquidation `liquidate`                    |If operation enabled AND `violator` account status invalid, `liquidate`:<br /><br />* liquidates the debt of the `violator` and transfers it to the `liquidator`, up to the amount returned by `checkLiquidation` as per desired amount to be repaid specified (`repayAssets`) <br />* seizes the `collateral` shares of the `violator` and transfers them to the `liquidator`, up to the amount returned by `checkLiquidation` as per desired amount to be repaid specified (`repayAssets`)<br /><br />If `collateral` is worthless, it can be seized without taking on any debt by the `liquidator`.<br /><br />If operation enabled AND `violator` healthy, `liquidate` must be a no-op.<br /><br />If debt socialization enabled AND the `violator` has outstanding debt after the liquidation AND the `violator` has no more accepted collaterals, the debt must be socialized amongst all the lenders in the vault.<br /><br />`liquidate` must revert if:<br /><br />* `liquidate` operation disabled <br />* `violator` is the same account as `liquidator` <br />* `collateral` is not accepted <br />* `collateral` is not enabled collateral for the `violator` <br />* liability vault is not enabled as the only controller of the `violator` <br />* liability vault is not enabled as the controller of the `liquidator` <br />* `violator` account status check is deferred <br />* the time elapsed from the last account status check of the `violator` is lesser than the configured liquidation cool off time <br />* price oracle is not configured <br />* amount of collateral to be seized is less than the desired amount of yield specified (`minYieldBalance`)<br /><br />This operation is always called through the EVC.<br /><br />This operation schedules the account status check on the `liquidator` address.<br /><br />This operation schedules the vault status check.<br /><br />Refer to the EVC documentation to learn how the collateral seizing mechanism works:<br /><br />[https://evc.wtf/docs/concepts/internals/control-collateral](https://evc.wtf/docs/concepts/internals/control-collateral)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|EVK-6 |Module Risk Manager                               |Implements the account and vault status check functions as well as other account-health-related functions.<br /><br />*Context:*<br /><br />*An status is valid (account is considered healthy) if the sum of risk adjusted values of enabled and accepted collaterals is greater than the value of liability, or the liability amount itself must be exactly zero.*<br /><br />*Value of the liability is current liability amount priced by the configured price oracle in terms of unit of account. The value of the liability is context-dependent. If in the liquidation context, the liability is valued using the mid-point quote returned by the oracle. When originating the position (regular health check), the liability is valued using the ask quote returned by the oracle.*<br /><br />*Value of the collateral is current collateral balance amount priced by the configured price oracle in terms of unit of account. The value of the collateral is context-dependent. If in the liquidation context, the collateral is valued using the mid-point quote returned by the oracle. When originating the position (regular health check), the collateral is valued using the bid quote returned by the oracle.*<br /><br />*A vault status is considered valid if:*<br /><br />* *neither the supply cap nor the borrow cap can be exceeded (they are both defined as max possible values), OR* * *either the supply cap or the borrow cap can be exceeded, AND* <br /><br />* *neither the supply cap nor the borrow cap are exceeded, OR* <br /><br />* *the state of the vault when the check is performed is better than it was when the initial snapshot was created (corresponding final total figures are less than or equal than the figures at the time of the snapshot)*<br /><br />[https://docs.euler.finance/euler-vault-kit-white-paper/#risk-management](https://docs.euler.finance/euler-vault-kit-white-paper/#risk-management)<br /><br />[https://docs.euler.finance/euler-vault-kit-white-paper/#price-oracles](https://docs.euler.finance/euler-vault-kit-white-paper/#price-oracles)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
|EVK-37|Module Risk Manager `accountLiquidityFull`        |For a given `account`, `accountLiquidityFull` calculates and returns the risk adjusted values of enabled and accepted collaterals and the value of liability.<br /><br />If `liquidation` parameter is `true`: <br /><br />* the risk adjusted value of collateral is the collateral balance priced using the oracle mid-point quote, multiplied by the current liquidation LTV factor, calculated using the initial liquidation LTV factor, the target liquidation LTV factor and ramp duration (assuming the LTV factor changes linearly from the initial LTV to the target LTV in ramp duration time) <br />* the value of the liability is the liability amount priced using the oracle mid-point quote<br /><br />If `liquidation` parameter is `false`:<br /><br />* the risk adjusted value of collateral is the collateral balance priced using the oracle bid quote, multiplied by the regular borrow LTV <br />* the value of the liability is the liability amount priced using the oracle ask quote the value of the liability is the value of liability obtained using the oracle ask quote price<br /><br />`accountLiquidityFull` must revert if:<br /><br />* liability vault is not enabled as the only controller of the `account` <br />* price oracle is not configured                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|EVK-36|Module Risk Manager `accountLiquidity`            |For a given `account`, `accountLiquidity` calculates and returns the sum of risk adjusted values of enabled and accepted collaterals and the value of liability.<br /><br />If `liquidation` parameter is `true`: <br /><br />* the risk adjusted value of collateral is the current collateral balance priced using the oracle mid-point quote, multiplied by the current liquidation LTV factor, calculated using the initial liquidation LTV factor, the target liquidation LTV factor and ramp duration (assuming the LTV factor changes linearly from the initial LTV to the target LTV in ramp duration time) <br />* the value of the liability is the current liability amount priced using the oracle mid-point quote<br /><br />If `liquidation` parameter is `false`:<br /><br />* the risk adjusted value of collateral is the current collateral balance priced using the oracle bid quote, multiplied by the regular borrow LTV <br />* the value of the liability is the current liability amount priced using the oracle ask quote<br /><br />`accountLiquidity` must revert if:<br /><br />* liability vault is not enabled as the only controller of the `account` <br />* price oracle is not configured                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|EVK-39|Module Risk Manager `checkAccountStatus`          |If account status valid, considering the risk adjusted value of collateral is the value of collateral obtained using the oracle bid quote multiplied by the regular borrow LTV, `checkAccountStatus` returns the selector of itself.<br /><br />`checkAccountStatus` must revert if:<br /><br />* not called by the EVC <br />* not called when checks in progress <br />* `account` unhealthy as per EVK-6<br /><br />[https://evc.wtf/docs/contracts/vault-implementation-considerations#vault-specification](https://evc.wtf/docs/contracts/vault-implementation-considerations#vault-specification)<br /><br />[https://evc.wtf/docs/concepts/internals/account-status-checks](https://evc.wtf/docs/concepts/internals/account-status-checks)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|EVK-40|Module Risk Manager `checkVaultStatus`            |If vault status is valid, `checkVaultStatus` updates the interest rate, clears the snapshot (if created) and returns the selector of itself.<br /><br />The interest rate is updated by calling into the configured interest rate model contract and cannot exceed the `MAX_ALLOWED_INTEREST_RATE`. If the interest rate model contract is not configured OR it reverts, the interest rate must remain unchanged.<br /><br />`checkVaultStatus` must revert if:<br /><br />* not called by the EVC <br />* not called when checks in progress <br />* vault status invalid as per EVK-6<br /><br />[https://evc.wtf/docs/contracts/vault-implementation-considerations#vault-specification](https://evc.wtf/docs/contracts/vault-implementation-considerations#vault-specification)<br /><br />[https://evc.wtf/docs/concepts/internals/vault-status-checks](https://evc.wtf/docs/concepts/internals/vault-status-checks)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|EVK-38|Module Risk Manager `disableController`           |If the authenticated account does not have an outstanding liability, `disableController` disables liability vault as a controller for the authenticated account. `disableController` must revert if the authenticated account has an outstanding liability.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|EVK-3 |Module Token                                      |Implements the `ERC20` functionality of the `ERC4626` vault.<br /><br />[https://eips.ethereum.org/EIPS/eip-4626](https://eips.ethereum.org/EIPS/eip-4626)<br /><br />[https://eips.ethereum.org/EIPS/eip-20](https://eips.ethereum.org/EIPS/eip-20)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|EVK-41|Module Token `approve`                            |Allows `spender` to withdraw shares from the authenticated account, multiple times, up to the `amount`. If this function is called again it overwrites the current allowance with `amount`. `amount` of `type(uint256).max` allows for "infinite" `allowance`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|EVK-44|Module Token `transferFromMax`                    |If operation enabled, transfers the whole balance of shares from address `from` to address `to`. If `from` is not an authenticated account, the transfer amount is the subject to the allowance check.<br /><br />If balance forwarding enabled for the `from` address, the balance tracker hook must be called with the new shares balance of `from`. To prevent liquidation DOS, if the control collateral is in progress, the balance tracker hook must be notified to forfeit `from`'s recent rewards.<br /><br />If balance forwarding enabled for the `to` address, the balance tracker hook must be called with the new shares balance of `to`.<br /><br />This operation is always called through the EVC.<br /><br />This operation schedules the account status check on the `from` address.<br /><br />This operation schedules the vault status check.<br /><br />This operation affects: <br /><br />* shares balance of the `from` account <br />* shares balance of the `to` account                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|EVK-43|Module Token `transferFrom`                       |If operation enabled, transfers `amount` of shares from address `from` to address `to`. If `from` is not an authenticated account, the transfer amount is the subject to the allowance check.<br /><br />If balance forwarding enabled for the `from` address, the balance tracker hook must be called with the new shares balance of `from`. To prevent liquidation DOS, if the control collateral is in progress, the balance tracker hook must be notified to forfeit `from`'s recent rewards.<br /><br />If balance forwarding enabled for the `to` address, the balance tracker hook must be called with the new shares balance of `to`.<br /><br />This operation is always called through the EVC.<br /><br />This operation schedules the account status check on the `from` address.<br /><br />This operation schedules the vault status check.<br /><br />This operation affects: <br /><br />* shares balance of the `from` account <br />* shares balance of the `to` account                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|EVK-42|Module Token `transfer`                           |If operation enabled, transfers `amount` of shares from the authenticated account to address `to`. <br /><br />If balance forwarding enabled for the authenticated account, the balance tracker hook must be called with its new shares balance. To prevent liquidation DOS, if the control collateral is in progress, the balance tracker hook must be notified to forfeit the authenticated account's recent rewards.<br /><br />If balance forwarding enabled for the `to` address, the balance tracker hook must be called with the new shares balance of `to`.<br /><br />This operation is always called through the EVC.<br /><br />This operation schedules the account status check on the authenticated account address.<br /><br />This operation schedules the vault status check.<br /><br />This operation affects: <br /><br />* shares balance of the authenticated account <br />* shares balance of the `to` account                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|EVK-4 |Module Vault                                      |Implements the `ERC4626` functionality of the vault.<br /><br />[https://eips.ethereum.org/EIPS/eip-4626](https://eips.ethereum.org/EIPS/eip-4626)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|EVK-45|Module Vault `convertToAssets`                    |`convertToAssets` returns the amount of assets (rounding down) that the vault would exchange for the amount of shares provided. The function must make calculations based on the total shares amount, the amount of assets held by the vault and the amount of liabilities issued. It must be ensured that the vault implements the function in a manipulation-resistant manner.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|EVK-46|Module Vault `convertToShares`                    |`convertToShares` returns the amount of shares (rounding down) that the vault would exchange for the amount of assets provided. The function must make calculations based on the total shares amount, the amount of assets held by the vault and the amount of liabilities issued. It must be ensured that the vault implements the function in a manipulation-resistant manner.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|EVK-47|Module Vault `deposit`                            |If operation enabled, `deposit` mints vault shares (rounding down) to `receiver` by depositing exactly `assets` of underlying tokens pulled from the authenticated account.<br /><br />If balance forwarding enabled for the `receiver` address, the balance tracker hook must be called with the new shares balance of `receiver`.<br /><br />This operation is always called through the EVC.<br /><br />This operation schedules the vault status check.<br /><br />This operation affects:<br /><br />* shares balance of the `receiver` account <br />* total shares balance <br />* total balance of the underlying assets held by the vault                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|EVK-48|Module Vault `mint`                               |If operation enabled, `mint` mints exactly `shares` vault shares to `receiver` by depositing corresponding amount of underlying tokens (rounding up) pulled from the authenticated account.<br /><br />If balance forwarding enabled for the `receiver` address, the balance tracker hook must be called with the new shares balance of `receiver`.<br /><br />This operation is always called through the EVC.<br /><br />This operation schedules the vault status check.<br /><br />This operation affects:<br /><br />* shares balance of the `receiver` account <br />* total shares balance <br />* total balance of the underlying assets held by the vault                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|EVK-50|Module Vault `redeem`                             |If operation enabled, `redeem` burns exactly `shares` vault shares from `owner` and sends corresponding amount of underlying tokens (rounding down) to `receiver`. If the `owner` account does not belong to the authenticated account, the amount of shares burned is a subject to the `ERC20` allowance check.<br /><br />If balance forwarding enabled for the `owner` address, the balance tracker hook must be called with the new shares balance of `owner`.<br /><br />If asset receiver validation enabled, this operation must protect user from sending assets to a virtual account.<br /><br />This operation is always called through the EVC.<br /><br />This operation schedules the account status check on the `owner` address.<br /><br />This operation schedules the vault status check.<br /><br />This operation affects:<br /><br />* shares balance of the `owner` account <br />* total shares balance <br />* total balance of the underlying assets held by the vault<br /><br />[https://evc.wtf/docs/concepts/internals/sub-accounts](https://evc.wtf/docs/concepts/internals/sub-accounts)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|EVK-51|Module Vault `skim`                               |If operation enabled, `skim` mints vault shares (rounding down) to `receiver` by assuming that the excess of the underlying tokens, that may occur due to internal balance tracking, belongs to the `receiver`.<br /><br />If balance forwarding enabled for the `receiver` address, the balance tracker hook must be called with the new shares balance of `receiver`.<br /><br />This operation is always called through the EVC.<br /><br />This operation schedules the vault status check.<br /><br />This operation affects:<br /><br />* shares balance of the `receiver` account <br />* total shares balance <br />* total balance of the underlying assets held by the vault                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|EVK-49|Module Vault `withdraw`                           |If operation enabled, `withdraw` burns vault shares (rounding up) from `owner` and sends exactly `assets` of underlying tokens to `receiver`. If the `owner` account does not belong to the authenticated account, the amount of shares burned is a subject to the `ERC20` allowance check.<br /><br />If balance forwarding enabled for the `owner` address, the balance tracker hook must be called with the new shares balance of `owner`.<br /><br />If asset receiver validation enabled, this operation must protect user from sending assets to a virtual account.<br /><br />This operation is always called through the EVC.<br /><br />This operation schedules the account status check on the `owner` address.<br /><br />This operation schedules the vault status check.<br /><br />This operation affects:<br /><br />* shares balance of the `owner` account <br />* total shares balance <br />* total balance of the underlying assets held by the vault<br /><br />[https://evc.wtf/docs/concepts/internals/sub-accounts](https://evc.wtf/docs/concepts/internals/sub-accounts)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
|EVK-13|Protocol Config                                   |The Protocol Config contract is the representative of the DAO's interests in the ecosystem. What vaults allow this contract to control is strictly limited.<br /><br />Functions implemented that are called by the vaults:<br /><br />`isValidInterestFee` - determines whether the value of the interest fee is allowed; vaults only invoke this if the governor attempts to set an interest fee outside of the range <`GUARANTEED_INTEREST_FEE_MIN`, `GUARANTEED_INTEREST_FEE_MAX`><br /><br />`protocolFeeConfig` - called when fees are converted; it returns the following the recipient address for the DAO's share of the fees and the fraction of the interest fees that should be sent to the DAO<br /><br />[https://docs.euler.finance/euler-vault-kit-white-paper/#protocolconfig](https://docs.euler.finance/euler-vault-kit-white-paper/#protocolconfig)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|EVK-83|Sequence Registry                                   |The Sequence Registry contract provides an interface for reserving sequence IDs. This contract maintains sequence counters associated with opaque designator strings. Each counter starts at 1. Anybody can reserve a sequence ID by calling `reserveSeqIdfunction`. The only guarantee provided is that no two reservations for the same designator will get the same ID.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|EVK-75|Synthetic Asset Vault                             |Synthetic asset vault is a special configuration of a vault which uses hooks to disable `mint`, `redeem`, `skim` and `repayWithShares` operations. The `deposit` operation is also disabled for all the callers except the underlying synth asset address itself, disallowing deposits from normal users. <br /><br />Instead of a utilization based interest rate model, synthetic vaults use a reactive interest rate model which adjusts the interest rate based on the trading price of the synthetic asset. This mechanism, the peg stability module and the savings rate module aim to keep the synthetic asset pegged as tight as possible to the peg asset. The price feed used when borrowing from the synthetic vault is the asset which the synthetic asset is pegged to, creating a CDP based synthetic asset.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|EVK-81|Synthetic Asset Vault `ERC20Collateral`           |`ERC20Collateral` is an `ERC20`-compatible token with the EVC support which allows it to be used as collateral in other vault. <br /><br />`ERC20Collateral` tokens comply with the following specification:<br /><br />* Whenever the contract is called via the EVC (`msg.sender == EVC`), the current on behalf of account is fetched from the EVC and used as an authenticated caller address. This ensures liquidations can be processed via `EVC.controlCollateral` function <br />* The account status check is requested after every operation that can potentially negatively affect the account health (i.e. whenever the tokens are transferred out of the account). This ensures the account is never unhealthy after the operation                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|EVK-77|Synthetic Asset Vault `ESynth`                    |`ESynth` is an `ERC20`-compatible token with the EVC support which, thanks to relying on the EVC authentication and requesting the account status checks on token transfers and burns, allows it to be used as collateral in other vault. It is meant to be used as an underlying asset of the synthetic asset vault.<br /><br />`ESynth` tokens comply with the following specification:<br /><br />**ERC20Collateral**<br /><br />`ESynth` inherits from `ERC20Collateral` making it compliant with the `ERC20Collateral` specification.<br /><br />**Minting**<br /><br />The owner of the contract can set a minting capacity by calling `setCapacity(address minter, uint128 capacity)` for any address which allows them to mint the synthetic asset up to the defined amount. Minters mint by calling `mint(address account, uint256 amount)`.<br /><br />**Burning**<br /><br />Any address can burn the synthetic from another address given they have the allowance to do so. The owner is exempt from this restriction when burning from the `ESynth` contract itself. When one burns from an address and they have a previously minted amount, the minted amount is reduced by the burned amount, freeing up their minting capacity. Burning can be done by calling `burn(address account, uint256 amount)`. Account status check is requested for the account from which the assets are burned.<br /><br />**Allocating to the synthetic asset vault**<br /><br />The owner can allocate assets held by the asset contract itself to a synthetic asset vault created specifically for this asset by calling `allocate(address vault, uint256 amount)`. This serves as a protocol deposit to the vault. Any allocation needs to be first minted by a minter or owner into the synthetic asset contract. The vault into which the assets are allocated must be integrated with the same EVC instance as the `ESynth` contract itself. On allocation, the vault is added to the addresses whose balances are ignored when calculating the `totalSupply`.<br /><br />**Deallocating from the synthetic asset vault**<br /><br />The owner can deallocate synthetic assets from the vault by calling `deallocate(address vault, uint256 amount)`. This serves as a protocol withdraw from the synthetic asset vault. Assets deallocated from the vault will be transferred into the synthetic asset contract itself and can in turn be burned by the owner.<br /><br />**Total supply adjustments**<br /><br />Since the protocol deposits into synthetic asset vaults are not backed by any collateral and are not in circulation, they are excluded from the `totalSupply` calculation. After calling `allocate()`, target vaults are automatically excluded. Additional addresses whose balances should be ignored can be managed by the owner by calling `addIgnoredForTotalSupply(address account)` and `removeIgnoredForTotalSupply(address account)`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|EVK-79|Synthetic Asset Vault `EulerSavingsRate`          |`EulerSavingsRate` is a `ERC4626`-compatible vault which allows users to deposit the underlying asset and receive interest in the form of the same underlying asset. On withdraw, redeem and transfers, the account status checks must be requested for the account which health might be negatively affected. Thanks to that, the shares of the `EulerSavingsRate`vault might be used as collateral by other EVC-compatible vaults. <br /><br />Account balances must be tracked internally in a donation attack resistant manner.<br /><br />Anyone can transfer the underlying asset into the vault and call `gulp` which distributes those directly transferred assets to the shareholders over the `INTEREST_SMEAR` period. Accrued interest must adjust the exchange rate accordingly.<br /><br />On `gulp`, any interest which has not been yet distributed is smeared for an additional `INTEREST_SMEAR` period. In theory, this means that interest could be smeared indefinitely by continuously calling `gulp`. In practice, it is expected that the interest will keep accruing, negating any negative side effects which may come from the smearing mechanism.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|EVK-78|Synthetic Asset Vault `IRMSynth`                  |Synthetic asset vaults use a different interest rate model than the standard vaults. The `IRMSynth` interest rate model is a simple reactive rate model which adjusts the interest rate up when it trades below the `targetQuote` and down when it trades above or at the `targetQuote`.<br /><br />**Parameters**<br /><br />* `targetQuote` price being targeted by the IRM <br />* `MAX_RATE` maximum rate charged <br />* `BASE_RATE` minimum and starting rate for the IRM <br />* `ADJUST_FACTOR` factor by which the previous rate is adjusted per `ADJUST_INTERVAL` <br />* `ADJUST_INTERVAL` time that needs to pass before the rate can be adjusted again<br /><br /> **Algorithm**<br /><br />1. If the `ADJUST_INTERVAL` did not pass, the previous rate must be returned 2. If the oracle configured returns a zero quote, the previous rate must be returned 3. If the synthetic asset trades below the `targetQuote`, the rate must be raised by the factor of `ADJUST_FACTOR` 4. If the synthetic asset is trading at the `targetQuote` or below, the rate must be lowered by the factor of `ADJUST_FACTOR` 5. Minimum `BASE_RATE` must be enforced 6. Maximum `MAX_RATE` must be enforced 7. The updated rate the timestamp of the last update must be stored                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|EVK-80|Synthetic Asset Vault `PegStabilityModule`        |The `PegStabilityModule` is granted minting rights on the `ESynth` and must allow slippage-free conversion from and to the underlying asset as per configured `conversionPrice`. On deployment, the fee for swaps to synthetic asset and to underlying asset are defined. These fees must accrue to the `PegStabilityModule` contract and can not be withdrawn, serving as a permanent reserve to support the peg. Swapping to the synthetic asset is possible up to the minting cap granted for the `PegStabilityModule` in the `ESynth`. Swapping to the underlying asset is possible up to the amount of the underlying asset held by the `PegStabilityModule`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
